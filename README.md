
A self-contained booru-like web server for [imgbrd-grabber](https://github.com/Bionus/imgbrd-grabber)

![screenshot](https://user-images.githubusercontent.com/5257054/96351893-0c887700-10bf-11eb-8744-a99af8c80c7d.png)

The interface based on a stripped down Gelbooru 1.0 with autocompletion.

### Workflow
 - Save images with imgbrd-grabber to a specific path and filename and store metadata with sqlite
 - Copy/Symlink image directory to ```localbooru/data/images``` and metadata.sqlite3 database to ```localbooru/data/db/```
 - On startup grabber-viewer reads all metadata, associates it with saved images and is ready to serve a booru interface

### Grabber setup

Settings > Save > Filename
 - Default: ```%md5:maxlength=2%/%md5%.%ext%```

Settings > Commands > Database Credentials
 - Driver: ```QSQLITE```
 - Database: Put the metadata.sqlite3 filename here
Settings > Commands > Database Commands
 - Image: ```INSERT INTO posts(website, origid, creation_date, hash, image, height, width, ext, rating, tags) VALUES("%websitename%", "%id%", (DATETIME('now')), "%md5%", "%md5%.%ext%", %height%, %width%, ".%ext%", "%rating%", "  %allo% ");```
 
### Usage
simply run ```python3 local_booru.py```

### Dependencies
 - python3
 - python3-cherrypy3
 - python3-jinja2
 - python3-pil
 
### Advanced usage
- It supports importing tag lists generated by grabber's tag loader, copy tags.txt and tag-types.txt to a directory inside localbooru/data/tags, multiple directories can be used to join tags from different sites.
- With some work one could modify it to use alternative filenames
